<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å±æ±æ¦®ç¸½ - æ™ºæ…§ç—…æˆ¿ç”Ÿç†é‡æ¸¬è‡ªå‹•åŒ–ç³»çµ±è¨ˆç•«</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Blue & Warm Sand -->
    <!-- Application Structure Plan: The application is designed as a single-page interactive dashboard rather than a linear document. This structure allows reviewers to quickly navigate to key sections (Overview, Details, Timeline, Budget, Benefits, Simulation) via a sticky navigation bar, facilitating non-linear exploration. This user-centric design aims to improve comprehension and engagement by presenting complex information in digestible, visually-appealing modules, making it more persuasive for a funding committee. -->
    <!-- Visualization & Content Choices: Report Info: 5-year project plan -> Goal: Show chronological progress -> Viz: Interactive timeline (HTML/JS) -> Interaction: Click on a year to reveal detailed goals and tasks. Justification: More engaging than a static list. | Report Info: NT$8.5M budget breakdown -> Goal: Clarify financial allocation -> Viz: Doughnut and Stacked Bar charts -> Interaction: Hover tooltips for details, toggle to see raw data table. Justification: Visualizes complex financial data for quick understanding. | Report Info: Project workflow -> Goal: Explain the operational process -> Viz: Step-by-step diagram (HTML/Tailwind) -> Justification: Simplifies the technical process into an easy-to-follow visual guide. | Report Info: Project benefits -> Goal: Highlight key advantages -> Viz: Icon-based cards (HTML/Tailwind) -> Justification: Makes benefits scannable and memorable. | Report Info: System workflow -> Goal: Provide interactive demonstration -> Viz: Simulated scenario with interactive controls (HTML/JS) -> Interaction: Buttons to simulate QR scan, data capture, and NIS upload. Justification: Offers a hands-on understanding of the system's operation. All visualizations are implemented using Chart.js (Canvas) and structured HTML/CSS, adhering to the NO SVG/Mermaid constraint. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #F8F7F4;
            color: #333333;
        }
        .text-primary { color: #3A5C83; }
        .bg-primary { background-color: #3A5C83; }
        .bg-accent { background-color: #D3C4A3; }
        .border-primary { border-color: #3A5C83; }
        .btn-nav {
            padding: 8px 16px;
            border-radius: 9999px;
            transition: background-color 0.3s, color 0.3s;
            font-weight: 500;
        }
        .btn-nav:hover, .btn-nav.active {
            background-color: #3A5C83;
            color: white;
        }
        .timeline-item {
            cursor: pointer;
            transition: all 0.3s;
            border-width: 2px;
            border-color: transparent;
        }
        .timeline-item.active {
            transform: translateY(-5px);
            border-color: #3A5C83;
            background-color: white;
        }
        .chart-container {
            position: relative;
            width: 100%;
            height: 350px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        html {
            scroll-behavior: smooth;
        }
        .section-title {
            font-size: 2.25rem;
            font-weight: 700;
            color: #3A5C83;
            margin-bottom: 1rem;
            text-align: center;
        }
        .section-subtitle {
            text-align: center;
            color: #555;
            max-width: 800px;
            margin: 0 auto 3rem auto;
        }
        .simulation-device {
            background-color: #e0e0e0;
            border: 2px solid #ccc;
            border-radius: 8px;
            padding: 20px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: bold;
            color: #333;
            width: 200px;
            height: 120px;
        }
        .simulation-screen {
            background-color: #222;
            color: #00ff00;
            padding: 10px 20px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 2rem;
            margin-top: 10px;
        }
        .simulation-log {
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            min-height: 100px;
            max-height: 200px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: #444;
        }
    </style>
</head>
<body class="antialiased">
    <header id="header" class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="text-xl font-bold text-primary">
                å±æ±æ¦®ç¸½æ™ºæ…§é†«ç™‚è¨ˆç•«
            </div>
            <div class="hidden md:flex items-center space-x-2">
                <a href="#overview" class="btn-nav active">ç¸½è¦½</a>
                <a href="#details" class="btn-nav">è¨ˆç•«å…§å®¹</a>
                <a href="#timeline" class="btn-nav">æ™‚ç¨‹è¦åŠƒ</a>
                <a href="#budget" class="btn-nav">ç¶“è²»é ç®—</a>
                <a href="#benefits" class="btn-nav">é æœŸæ•ˆç›Š</a>
                <a href="#simulation" class="btn-nav">æ¨¡æ“¬æƒ…å¢ƒ</a>
            </div>
            <div class="md:hidden">
                <select id="mobile-nav" class="bg-white border border-gray-300 rounded-md py-2 px-3 text-gray-700">
                    <option value="#overview">ç¸½è¦½</option>
                    <option value="#details">è¨ˆç•«å…§å®¹</option>
                    <option value="#timeline">æ™‚ç¨‹è¦åŠƒ</option>
                    <option value="#budget">ç¶“è²»é ç®—</option>
                    <option value="#benefits">é æœŸæ•ˆç›Š</option>
                    <option value="#simulation">æ¨¡æ“¬æƒ…å¢ƒ</option>
                </select>
            </div>
        </nav>
    </header>

    <main>
        <section id="overview" class="py-16 md:py-24">
            <div class="container mx-auto px-4 text-center">
                <h1 class="text-4xl md:text-5xl font-bold text-primary mb-4">å»ºç½®æ™ºæ…§ç—…æˆ¿ç”Ÿç†é‡æ¸¬è‡ªå‹•åŒ–ç³»çµ±</h1>
                <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto mb-12">ä»¥OCRè¾¨è­˜æŠ€è¡“é©æ–°è­·ç†ä½œæ¥­æµç¨‹ï¼Œæå‡æ•¸æ“šæº–ç¢ºæ€§èˆ‡é†«ç™‚ç…§è­·å“è³ªï¼Œé‚å‘æ™ºæ…§é†«ç™‚æ–°ç´€å…ƒã€‚</p>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto">
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-primary">
                        <h3 class="text-xl font-bold text-gray-500 mb-2">è¨ˆç•«ç¸½ç¶“è²»</h3>
                        <p class="text-4xl font-bold text-primary">850è¬</p>
                        <p class="text-gray-500">æ–°å°å¹£</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-primary">
                        <h3 class="text-xl font-bold text-gray-500 mb-2">è¨ˆç•«æœŸç¨‹</h3>
                        <p class="text-4xl font-bold text-primary">5å¹´</p>
                        <p class="text-gray-500">114 - 118å¹´åº¦</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-primary">
                        <h3 class="text-xl font-bold text-gray-500 mb-2">æ ¸å¿ƒæŠ€è¡“</h3>
                        <p class="text-4xl font-bold text-primary">OCR</p>
                        <p class="text-gray-500">å…‰å­¸å­—å…ƒè¾¨è­˜</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="details" class="py-16 md:py-24 bg-white">
            <div class="container mx-auto px-4">
                <h2 class="section-title">è¨ˆç•«å…§å®¹</h2>
                <p class="section-subtitle">æœ¬è¨ˆç•«æ—¨åœ¨è§£æ±ºé†«ç™‚ç¬¬ä¸€ç·šçš„ç—›é»ã€‚ç¾è¡Œäººå·¥æŠ„å¯«ç”Ÿç†æ•¸æ“šä¸åƒ…è€—æ™‚ï¼Œæ›´éš±å«éŒ¯èª¤é¢¨éšªã€‚æˆ‘å€‘æå‡ºçš„æ™ºæ…§åŒ–ç³»çµ±ï¼Œå°‡å¾¹åº•æ”¹è®Šæ­¤ä½œæ¥­æ¨¡å¼ï¼Œå°‡å¯¶è²´çš„äººåŠ›èˆ‡æ™‚é–“å›æ­¸ç—…æ‚£ç…§è­·æœ¬èº«ã€‚</p>
                
                <div class="bg-gray-50 p-8 rounded-2xl">
                    <h3 class="text-2xl font-bold text-center text-primary mb-8">æ™ºæ…§åŒ–ä½œæ¥­æµç¨‹</h3>
                    <div class="flex flex-col md:flex-row justify-center items-center gap-8">
                        <div class="text-center">
                            <div class="bg-primary text-white w-24 h-24 rounded-full flex items-center justify-center text-4xl mx-auto mb-4 shadow-lg">ğŸ“²</div>
                            <h4 class="text-lg font-bold">1. æƒæè­˜åˆ¥</h4>
                            <p class="text-gray-600">æƒæç—…æ‚£æ‰‹åœˆQR-Code</p>
                        </div>
                        <div class="text-gray-300 text-4xl hidden md:block">â†’</div>
                        <div class="text-gray-300 text-4xl rotate-90 md:hidden">â†“</div>
                        <div class="text-center">
                            <div class="bg-primary text-white w-24 h-24 rounded-full flex items-center justify-center text-4xl mx-auto mb-4 shadow-lg">ğŸ“¸</div>
                            <h4 class="text-lg font-bold">2. å½±åƒæ“·å–</h4>
                            <p class="text-gray-600">æ‹æ”ç”Ÿç†é‡æ¸¬å„€å™¨æ•¸æ“š</p>
                        </div>
                        <div class="text-gray-300 text-4xl hidden md:block">â†’</div>
                         <div class="text-gray-300 text-4xl rotate-90 md:hidden">â†“</div>
                        <div class="text-center">
                            <div class="bg-primary text-white w-24 h-24 rounded-full flex items-center justify-center text-4xl mx-auto mb-4 shadow-lg">â˜ï¸</div>
                            <h4 class="text-lg font-bold">3. æ™ºæ…§ä¸Šå‚³</h4>
                            <p class="text-gray-600">OCRè‡ªå‹•è¾¨è­˜ä¸¦å›å‚³NIS</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="timeline" class="py-16 md:py-24">
            <div class="container mx-auto px-4">
                <h2 class="section-title">æ™‚ç¨‹è¦åŠƒ</h2>
                <p class="section-subtitle">æœ¬è¨ˆç•«ç‚ºæœŸäº”å¹´ï¼Œæˆ‘å€‘å·²åˆ¶å®šè©³ç›¡çš„éšæ®µæ€§ç›®æ¨™èˆ‡åŸ·è¡Œç­–ç•¥ã€‚æ‚¨å¯ä»¥é»æ“Šä¸‹æ–¹å„å¹´åº¦ï¼ŒæŸ¥çœ‹è©²éšæ®µçš„è©³ç´°è¦åŠƒå…§å®¹ï¼Œä»¥ç¢ºä¿è¨ˆç•«çš„æ¯ä¸€æ­¥éƒ½ç©©å¥åœ°æœå‘æˆåŠŸé‚é€²ã€‚</p>
                <div id="timeline-nav" class="grid grid-cols-2 sm:grid-cols-5 gap-4 mb-8 max-w-4xl mx-auto">
                </div>
                <div id="timeline-content" class="bg-white p-8 rounded-2xl shadow-lg min-h-[300px]">
                </div>
            </div>
        </section>

        <section id="budget" class="py-16 md:py-24 bg-white">
            <div class="container mx-auto px-4">
                <h2 class="section-title">ç¶“è²»é ç®—</h2>
                <p class="section-subtitle">æœ¬è¨ˆç•«ç¸½ç¶“è²»ç‚º850è¬æ–°å°å¹£ï¼Œæ‰€æœ‰é ç®—éƒ½ç¶“éç²¾å¯†çš„è¦åŠƒèˆ‡è©•ä¼°ï¼Œä»¥ç¢ºä¿è³‡æºç™¼æ®æœ€å¤§æ•ˆç›Šã€‚æˆ‘å€‘é€éäº’å‹•å¼åœ–è¡¨å‘ˆç¾ç¶“è²»çš„åˆ†é…æƒ…æ³ï¼Œè®“æ‚¨å°è³‡é‡‘çš„é‹ç”¨æœ‰æ›´æ¸…æ™°çš„äº†è§£ã€‚</p>
                <div class="text-center mb-8">
                    <button id="view-chart-btn" class="bg-primary text-white py-2 px-6 rounded-full font-semibold">åœ–è¡¨æª¢è¦–</button>
                    <button id="view-table-btn" class="bg-gray-200 text-gray-700 py-2 px-6 rounded-full font-semibold ml-2">è¡¨æ ¼æª¢è¦–</button>
                </div>

                <div id="chart-view">
                    <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
                        <div class="lg:col-span-2 bg-gray-50 p-6 rounded-xl">
                            <h3 class="text-xl font-bold text-center text-primary mb-4">ç¸½ç¶“è²»åˆ†é…</h3>
                             <div class="chart-container mx-auto max-w-sm">
                                <canvas id="budgetDoughnutChart"></canvas>
                            </div>
                        </div>
                        <div class="lg:col-span-3 bg-gray-50 p-6 rounded-xl">
                            <h3 class="text-xl font-bold text-center text-primary mb-4">å„å¹´åº¦ç¶“è²»è¦åŠƒ (å–®ä½: è¬å…ƒ)</h3>
                            <div class="chart-container">
                                <canvas id="budgetBarChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="table-view" class="hidden">
                    <div class="overflow-x-auto bg-white rounded-lg shadow">
                         <table class="w-full text-sm text-left text-gray-500">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-100">
                                <tr>
                                    <th scope="col" class="px-6 py-3">å¹´åº¦</th>
                                    <th scope="col" class="px-6 py-3">é …ç›®</th>
                                    <th scope="col" class="px-6 py-3 text-right">é‡‘é¡ (å…ƒ)</th>
                                    <th scope="col" class="px-6 py-3">èªªæ˜</th>
                                </tr>
                            </thead>
                            <tbody id="budget-table-body">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <section id="benefits" class="py-16 md:py-24">
            <div class="container mx-auto px-4">
                <h2 class="section-title">é æœŸæ•ˆç›Š</h2>
                <p class="section-subtitle">æœ¬è¨ˆç•«çš„æˆåŠŸå¯¦æ–½ï¼Œå°‡ä¸åƒ…æ˜¯æŠ€è¡“çš„é©æ–°ï¼Œæ›´æœƒç‚ºé†«é™¢ã€é†«è­·äººå“¡åŠç—…æ‚£å¸¶ä¾†æ·±é çš„æ­£é¢å½±éŸ¿ã€‚æˆ‘å€‘é æœŸåœ¨æ•ˆç‡ã€æº–ç¢ºæ€§ã€ç…§è­·å“è³ªåŠæ°¸çºŒç™¼å±•å››å€‹é¢å‘ï¼Œé”æˆé¡¯è‘—çš„æ•ˆç›Šã€‚</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="bg-white p-8 rounded-2xl shadow-lg text-center transform hover:scale-105 transition-transform duration-300">
                        <div class="text-5xl mb-4">â±ï¸</div>
                        <h3 class="text-xl font-bold text-primary mb-2">æå‡å·¥ä½œæ•ˆç‡</h3>
                        <p class="text-gray-600">å¤§å¹…æ¸›å°‘äººå·¥æŠ„å¯«æ™‚é–“ï¼Œè®“è­·ç†äººå“¡èƒ½æ›´å°ˆæ³¨æ–¼è‡¨åºŠç…§è­·ï¼Œæå‡æ•´é«”å·¥ä½œæµç¨‹çš„é †æš¢åº¦ã€‚</p>
                    </div>
                    <div class="bg-white p-8 rounded-2xl shadow-lg text-center transform hover:scale-105 transition-transform duration-300">
                        <div class="text-5xl mb-4">ğŸ¯</div>
                        <h3 class="text-xl font-bold text-primary mb-2">é™ä½éŒ¯èª¤é¢¨éšª</h3>
                        <p class="text-gray-600">è‡ªå‹•åŒ–æ•¸æ“šå‚³è¼¸æœ‰æ•ˆé¿å…äººç‚ºæŠ„å¯«éŒ¯èª¤ï¼Œç¢ºä¿ç—…æ­·è³‡æ–™çš„æº–ç¢ºæ€§èˆ‡å³æ™‚æ€§ï¼Œæå‡ç—…æ‚£å®‰å…¨ã€‚</p>
                    </div>
                    <div class="bg-white p-8 rounded-2xl shadow-lg text-center transform hover:scale-105 transition-transform duration-300">
                        <div class="text-5xl mb-4">â¤ï¸</div>
                        <h3 class="text-xl font-bold text-primary mb-2">å„ªåŒ–ç…§è­·å“è³ª</h3>
                        <p class="text-gray-600">é†«è­·äººå“¡æœ‰æ›´å¤šæ™‚é–“èˆ‡ç—…æ‚£äº’å‹•ï¼Œæä¾›æ›´ç´°ç·»çš„ç…§è­·æœå‹™ã€‚ç²¾ç¢ºçš„æ•¸æ“šæœ‰åŠ©æ–¼é†«å¸«åšå‡ºæ›´ä½³çš„è‡¨åºŠæ±ºç­–ã€‚</p>
                    </div>
                     <div class="bg-white p-8 rounded-2xl shadow-lg text-center transform hover:scale-105 transition-transform duration-300">
                        <div class="text-5xl mb-4">ğŸŒ±</div>
                        <h3 class="text-xl font-bold text-primary mb-2">ä¿ƒé€²æ°¸çºŒç™¼å±•</h3>
                        <p class="text-gray-600">å»ºç«‹å¯æ“´å±•çš„æ™ºæ…§é†«ç™‚åŸºç¤ï¼Œç‚ºæœªä¾†å°å…¥æ›´å¤šæ™ºæ…§æ‡‰ç”¨å¥ å®šåŸºçŸ³ï¼Œä¸¦å¯å°‡æˆåŠŸæ¨¡å¼æ¨å»£è‡³å…¶ä»–é™¢å€ã€‚</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="simulation" class="py-16 md:py-24 bg-white">
            <div class="container mx-auto px-4">
                <h2 class="section-title">æ¨¡æ“¬æƒ…å¢ƒ</h2>
                <p class="section-subtitle">é€éæ­¤äº’å‹•å¼æ¨¡æ“¬ï¼Œæ‚¨å¯ä»¥è¦ªèº«é«”é©—æ™ºæ…§ç—…æˆ¿ç”Ÿç†é‡æ¸¬è‡ªå‹•åŒ–ç³»çµ±çš„å¯¦éš›é‹ä½œæµç¨‹ï¼Œæ„Ÿå—å…¶å¸¶ä¾†çš„ä¾¿æ·èˆ‡é«˜æ•ˆã€‚</p>
                
                <div class="flex flex-col items-center gap-8 bg-gray-50 p-8 rounded-2xl shadow-lg max-w-3xl mx-auto">
                    <div class="flex flex-col md:flex-row items-center justify-center gap-8 w-full">
                        <div class="flex-1 text-center">
                            <h3 class="text-xl font-bold text-primary mb-4">ç—…æ‚£æ‰‹åœˆ</h3>
                            <div class="bg-white p-6 rounded-lg shadow-md border-2 border-gray-300 flex flex-col items-center justify-center h-32">
                                <p class="font-mono text-gray-700 text-lg">QR-Code: PATIENT-001</p>
                                <p class="text-sm text-gray-500">å§“å: ç‹å°æ˜ / åºŠè™Ÿ: 101</p>
                            </div>
                        </div>
                        <div class="flex-1 text-center">
                            <h3 class="text-xl font-bold text-primary mb-4">ç”Ÿç†é‡æ¸¬å„€å™¨</h3>
                            <div class="simulation-device">
                                <span class="text-lg text-gray-600">è¡€å£“</span>
                                <span id="bp-reading" class="simulation-screen">120/80</span>
                            </div>
                        </div>
                    </div>

                    <div class="flex flex-col md:flex-row items-center justify-center gap-4 mt-8 w-full">
                        <button id="scan-qr-btn" class="bg-primary text-white py-3 px-6 rounded-full font-semibold shadow-md hover:bg-primary-dark transition-colors duration-300">æƒæQR-Code</button>
                        <button id="capture-data-btn" class="bg-accent text-gray-800 py-3 px-6 rounded-full font-semibold shadow-md hover:bg-accent-dark transition-colors duration-300">æ‹æ”æ•¸æ“š</button>
                        <button id="upload-nis-btn" class="bg-primary text-white py-3 px-6 rounded-full font-semibold shadow-md hover:bg-primary-dark transition-colors duration-300">ä¸Šå‚³NIS</button>
                        <button id="reset-sim-btn" class="bg-gray-400 text-white py-3 px-6 rounded-full font-semibold shadow-md hover:bg-gray-500 transition-colors duration-300">é‡ç½®</button>
                    </div>

                    <div class="w-full mt-8">
                        <h3 class="text-xl font-bold text-primary mb-4 text-center">ç³»çµ±æ—¥èªŒ (NISå›å‚³æ¨¡æ“¬)</h3>
                        <div id="simulation-log" class="simulation-log">
                            <p class="text-gray-500">ç­‰å¾…æ“ä½œ...</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; å±æ±æ¦®æ°‘ç¸½é†«é™¢</p>
            <p class="text-sm text-gray-400 mt-2">æœ¬å ±å‘Šç‚ºã€Œå¥åº·å°ç£æ·±è€•è¨ˆç•«ã€ç”³è«‹æ–‡ä»¶</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const timelineData = {
                '114': {
                    title: 'ç¬¬ä¸€å¹´ (114å¹´åº¦): é–‹ç™¼èˆ‡æ¦‚å¿µé©—è­‰',
                    content: `
                        <ul class="list-disc list-inside space-y-3 text-gray-700">
                            <li><strong>æ¨å‹•ç›®æ¨™ï¼š</strong>å®Œæˆæ™ºæ…§ç—…æˆ¿ç”Ÿç†é‡æ¸¬è‡ªå‹•åŒ–ç³»çµ±çš„æ ¸å¿ƒé–‹ç™¼èˆ‡æ¦‚å¿µé©—è­‰ï¼ˆPOCï¼‰ã€‚</li>
                            <li><strong>æ¶æ§‹èˆ‡ç­–ç•¥ï¼š</strong>å°ˆæ³¨æ–¼ç³»çµ±è¨­è¨ˆã€OCRæ¨¡çµ„é–‹ç™¼ã€ä¼ºæœå™¨æ¶è¨­ï¼Œä¸¦åœ¨å–®ä¸€ç—…æˆ¿é€²è¡ŒPOCï¼Œç¢ºä¿æŠ€è¡“å¯è¡Œæ€§ã€‚</li>
                            <li><strong>åŸ·è¡Œæ­¥é©Ÿï¼š</strong>æˆç«‹å°ˆæ¡ˆåœ˜éšŠã€é€²è¡Œéœ€æ±‚è¨ªè«‡ã€å®Œæˆç³»çµ±æ¶æ§‹è¨­è¨ˆã€é–‹ç™¼æ ¸å¿ƒåŠŸèƒ½ã€æ¡è³¼ç¡¬é«”ï¼Œä¸¦åœ¨è©¦é»ç—…æˆ¿é€²è¡Œæ¸¬è©¦èˆ‡å„ªåŒ–ã€‚</li>
                        </ul>
                    `
                },
                '115': {
                    title: 'ç¬¬äºŒå¹´ (115å¹´åº¦): ç³»çµ±æ•´åˆèˆ‡æº–å‚™',
                    content: `
                        <ul class="list-disc list-inside space-y-3 text-gray-700">
                            <li><strong>æ¨å‹•ç›®æ¨™ï¼š</strong>å®Œæˆç³»çµ±èˆ‡å…¨é™¢NISçš„å…¨é¢æ•´åˆï¼Œç‚ºå…¨é™¢æ¨å»£åšæº–å‚™ã€‚</li>
                            <li><strong>æ¶æ§‹èˆ‡ç­–ç•¥ï¼š</strong>é€²è¡ŒNISæ·±åº¦æ•´åˆã€å¼·åŒ–è³‡å®‰é˜²è­·ã€å„ªåŒ–ç³»çµ±æ•ˆèƒ½ï¼Œä¸¦æº–å‚™ä½¿ç”¨è€…åŸ¹è¨“æ•™æã€‚</li>
                            <li><strong>åŸ·è¡Œæ­¥é©Ÿï¼š</strong>èˆ‡NISä¾›æ‡‰å•†åˆä½œé–‹ç™¼ã€é€²è¡Œç³»çµ±æ•´åˆæ¸¬è©¦(SIT)èˆ‡ä½¿ç”¨è€…æ¥å—åº¦æ¸¬è©¦(UAT)ã€å®Œæˆè³‡å®‰é©—è­‰ã€è£½ä½œæ“ä½œæ‰‹å†Šã€‚</li>
                        </ul>
                    `
                },
                '116': {
                    title: 'ç¬¬ä¸‰å¹´ (116å¹´åº¦): å…¨é™¢æ¨å»£èˆ‡ç¶­é‹',
                    content: `
                        <ul class="list-disc list-inside space-y-3 text-gray-700">
                            <li><strong>æ¨å‹•ç›®æ¨™ï¼š</strong>ç³»çµ±æ–¼å…¨é™¢æ­£å¼ä¸Šç·šï¼Œé€²å…¥å¸¸æ…‹ç¶­é‹æœŸã€‚</li>
                            <li><strong>æ¶æ§‹èˆ‡ç­–ç•¥ï¼š</strong>åˆ†éšæ®µå°‡ç³»çµ±æ¨å»£è‡³å…¨é™¢ã€é€²è¡Œå…¨é¢ä½¿ç”¨è€…æ•™è‚²è¨“ç·´ã€å»ºç«‹å¸¸æ…‹ç¶­è­·æ©Ÿåˆ¶ã€é–‹å§‹é€²è¡Œæ•ˆç›Šè©•ä¼°ã€‚</li>
                            <li><strong>åŸ·è¡Œæ­¥é©Ÿï¼š</strong>åˆ¶å®šè©³ç´°ä¸Šç·šè¨ˆç•«ã€éƒ¨ç½²ç³»çµ±è‡³å„ç—…æˆ¿ã€æˆç«‹ç¶­é‹åœ˜éšŠã€å®šæœŸæª¢è¨ç³»çµ±é‹ä½œç‹€æ³ã€‚</li>
                        </ul>
                    `
                },
                '117': {
                    title: 'ç¬¬å››å¹´ (117å¹´åº¦): æŒçºŒå„ªåŒ–èˆ‡æ“´å±•',
                    content: `
                         <ul class="list-disc list-inside space-y-3 text-gray-700">
                            <li><strong>æ¨å‹•ç›®æ¨™ï¼š</strong>æŒçºŒå„ªåŒ–ç³»çµ±ï¼Œä¸¦æ¢ç´¢åŠŸèƒ½æ“´å±•çš„å¯èƒ½æ€§ã€‚</li>
                            <li><strong>æ¶æ§‹èˆ‡ç­–ç•¥ï¼š</strong>æ ¹æ“šä½¿ç”¨è€…å›é¥‹é€²è¡ŒåŠŸèƒ½è¿­ä»£ã€è©•ä¼°æ•´åˆæ›´å¤šç”Ÿç†é‡æ¸¬è¨­å‚™ã€æ¢ç´¢æ•¸æ“šçš„åŠ å€¼æ‡‰ç”¨ã€‚</li>
                            <li><strong>åŸ·è¡Œæ­¥é©Ÿï¼š</strong>å®šæœŸé€²è¡ŒåŠŸèƒ½å›é¡§ã€è¦åŠƒä¸¦å¯¦æ–½ç³»çµ±å‡ç´šã€ç ”ç©¶æ–°è¨­å‚™æ•´åˆæ–¹æ¡ˆã€èˆ‡è‡¨åºŠå–®ä½åˆä½œæ¢ç´¢æ•¸æ“šæ‡‰ç”¨ã€‚</li>
                        </ul>
                    `
                },
                '118': {
                    title: 'ç¬¬äº”å¹´ (118å¹´åº¦): ç©©å›ºé‹ä½œèˆ‡æ°¸çºŒ',
                    content: `
                         <ul class="list-disc list-inside space-y-3 text-gray-700">
                            <li><strong>æ¨å‹•ç›®æ¨™ï¼š</strong>ç©©å›ºç³»çµ±çš„å¸¸æ…‹é‹ä½œï¼Œè©•ä¼°é•·æœŸæ•ˆç›Šèˆ‡å¯æŒçºŒæ€§ã€‚</li>
                            <li><strong>æ¶æ§‹èˆ‡ç­–ç•¥ï¼š</strong>ç¢ºä¿é•·æœŸç©©å®šç¶­è­·ã€å°‡æˆåŠŸç¶“é©—å‘å¤–æ¨å»£åˆ†äº«ã€å°‡æœ¬ç³»çµ±ç´å…¥é†«é™¢æ•´é«”æ™ºæ…§ç™¼å±•è—åœ–ã€‚</li>
                            <li><strong>åŸ·è¡Œæ­¥é©Ÿï¼š</strong>ç°½è¨‚é•·æœŸç¶­è­·åˆç´„ã€æ’°å¯«è¨ˆç•«ç¸½çµå ±å‘Šã€åƒèˆ‡é†«ç™‚ç§‘æŠ€ç ”è¨æœƒã€å°‡æˆæœç´å…¥é†«é™¢å¹´åº¦ç™¼å±•å ±å‘Šã€‚</li>
                        </ul>
                    `
                }
            };

            const budgetData = [
                { year: 114, items: [{ name: 'ç³»çµ±é–‹ç™¼èˆ‡æˆæ¬Šè²»', cost: 1000000 }] },
                { year: 115, items: [{ name: 'NISæ•´åˆè²»', cost: 1000000 }, { name: 'è³‡å®‰é©—è­‰è²»', cost: 500000 }, { name: 'ç¡¬é«”è¨­å‚™è²»', cost: 1500000 }] },
                { year: 116, items: [{ name: 'ç³»çµ±ç¶­é‹æœå‹™è²»', cost: 1500000 }] },
                { year: 117, items: [{ name: 'ç³»çµ±ç¶­é‹æœå‹™è²»', cost: 1500000 }] },
                { year: 118, items: [{ name: 'ç³»çµ±ç¶­é‹æœå‹™è²»', cost: 1500000 }] },
            ];

            const timelineNav = document.getElementById('timeline-nav');
            const timelineContent = document.getElementById('timeline-content');
            
            Object.keys(timelineData).forEach(year => {
                const item = document.createElement('div');
                item.className = 'timeline-item p-4 bg-gray-100 rounded-lg text-center shadow-sm';
                item.dataset.year = year;
                item.innerHTML = `<p class="font-bold text-primary">${year}å¹´åº¦</p><p class="text-sm text-gray-500">${timelineData[year].title.split(':')[1].trim().split('(')[0]}</p>`;
                timelineNav.appendChild(item);
            });

            function updateTimelineContent(year) {
                const data = timelineData[year];
                timelineContent.innerHTML = `<h3 class="text-xl font-bold text-primary mb-4">${data.title}</h3><div>${data.content}</div>`;
                
                document.querySelectorAll('.timeline-item').forEach(el => {
                    el.classList.toggle('active', el.dataset.year === year);
                });
            }

            timelineNav.addEventListener('click', function(e) {
                const target = e.target.closest('.timeline-item');
                if (target) {
                    updateTimelineContent(target.dataset.year);
                }
            });

            updateTimelineContent('114');

            const viewChartBtn = document.getElementById('view-chart-btn');
            const viewTableBtn = document.getElementById('view-table-btn');
            const chartView = document.getElementById('chart-view');
            const tableView = document.getElementById('table-view');

            viewChartBtn.addEventListener('click', () => {
                chartView.style.display = 'block';
                tableView.style.display = 'none';
                viewChartBtn.classList.add('bg-primary', 'text-white');
                viewChartBtn.classList.remove('bg-gray-200', 'text-gray-700');
                viewTableBtn.classList.add('bg-gray-200', 'text-gray-700');
                viewTableBtn.classList.remove('bg-primary', 'text-white');
            });
            
            viewTableBtn.addEventListener('click', () => {
                chartView.style.display = 'none';
                tableView.style.display = 'block';
                viewTableBtn.classList.add('bg-primary', 'text-white');
                viewTableBtn.classList.remove('bg-gray-200', 'text-gray-700');
                viewChartBtn.classList.add('bg-gray-200', 'text-gray-700');
                viewChartBtn.classList.remove('bg-primary', 'text-white');
            });

            const budgetTableBody = document.getElementById('budget-table-body');
            budgetData.forEach(yearData => {
                yearData.items.forEach((item, index) => {
                    const row = document.createElement('tr');
                    row.className = 'bg-white border-b';
                    row.innerHTML = `
                        ${index === 0 ? `<td rowspan="${yearData.items.length}" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">${yearData.year}</td>` : ''}
                        <td class="px-6 py-4">${item.name}</td>
                        <td class="px-6 py-4 text-right">${item.cost.toLocaleString()}</td>
                        <td class="px-6 py-4">${{
                            'ç³»çµ±é–‹ç™¼èˆ‡æˆæ¬Šè²»': 'ç³»çµ±é–‹ç™¼æœå‹™è²»ã€OCRè¾¨è­˜æ¨¡çµ„æˆæ¬Šè²»ã€è³‡æ–™åº«æˆæ¬Šè²»ã€é–‹ç™¼å·¥å…·æˆæ¬Šè²»ç­‰',
                            'NISæ•´åˆè²»': 'NISç³»çµ±ä»‹æ¥èˆ‡æ•¸æ“šæ•´åˆæœå‹™è²»',
                            'è³‡å®‰é©—è­‰è²»': 'ç¬¬ä¸‰æ–¹è³‡å®‰æ¼æ´æƒæã€æ»²é€æ¸¬è©¦ã€è³‡å®‰é¡§å•æœå‹™è²»',
                            'ç¡¬é«”è¨­å‚™è²»': 'ä¼ºæœå™¨ã€å„²å­˜è¨­å‚™ã€ç¶²è·¯è¨­å‚™ç­‰',
                            'ç³»çµ±ç¶­é‹æœå‹™è²»': 'ç³»çµ±æ—¥å¸¸ç¶­è­·ã€æŠ€è¡“æ”¯æ´ã€æ•…éšœæ’é™¤ã€ç³»çµ±æ›´æ–°ç­‰'
                        }[item.name] || ''}</td>
                    `;
                    budgetTableBody.appendChild(row);
                });
            });
            
            const totalDevCost = 1000000;
            const totalIntegrationCost = 1000000 + 500000;
            const totalHardwareCost = 1500000;
            const totalMaintenanceCost = 1500000 * 3;

            const doughnutCtx = document.getElementById('budgetDoughnutChart').getContext('2d');
            new Chart(doughnutCtx, {
                type: 'doughnut',
                data: {
                    labels: ['é–‹ç™¼èˆ‡æˆæ¬Š', 'æ•´åˆèˆ‡é©—è­‰', 'ç¡¬é«”è¨­å‚™', 'ç¶­é‹æœå‹™'],
                    datasets: [{
                        data: [totalDevCost, totalIntegrationCost, totalHardwareCost, totalMaintenanceCost],
                        backgroundColor: ['#3A5C83', '#5E81AC', '#81A1C1', '#A3B9D1'],
                        borderColor: '#F8F7F4',
                        borderWidth: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += new Intl.NumberFormat('zh-TW', { style: 'currency', currency: 'TWD', minimumFractionDigits: 0 }).format(context.parsed);
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            const barCtx = document.getElementById('budgetBarChart').getContext('2d');
            const barChartData = {
                labels: budgetData.map(d => `${d.year}å¹´`),
                datasets: [
                    { label: 'ç³»çµ±é–‹ç™¼/æ•´åˆ/é©—è­‰', data: [100, 150, 0, 0, 0], backgroundColor: '#3A5C83' },
                    { label: 'ç¡¬é«”è¨­å‚™', data: [0, 150, 0, 0, 0], backgroundColor: '#5E81AC' },
                    { label: 'ç¶­é‹æœå‹™', data: [0, 0, 150, 150, 150], backgroundColor: '#81A1C1' }
                ]
            };
            new Chart(barCtx, {
                type: 'bar',
                data: barChartData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { x: { stacked: true }, y: { stacked: true, beginAtZero: true } },
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                        label += `${context.parsed.y} è¬`;
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            const navLinks = document.querySelectorAll('.btn-nav');
            const sections = document.querySelectorAll('main section');
            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 60) {
                        current = section.getAttribute('id');
                    }
                });
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').substring(1) === current) {
                        link.classList.add('active');
                    }
                });
            });

            const mobileNav = document.getElementById('mobile-nav');
            mobileNav.addEventListener('change', (e) => {
                window.location.hash = e.target.value;
            });

            // Simulation Logic
            const bpReadingElement = document.getElementById('bp-reading');
            const scanQrBtn = document.getElementById('scan-qr-btn');
            const captureDataBtn = document.getElementById('capture-data-btn');
            const uploadNisBtn = document.getElementById('upload-nis-btn');
            const resetSimBtn = document.getElementById('reset-sim-btn');
            const simulationLog = document.getElementById('simulation-log');

            let currentPatient = null;
            let currentBpReading = null;

            function logSimulation(message, type = 'info') {
                const timestamp = new Date().toLocaleTimeString('zh-TW', { hour12: false });
                const logEntry = document.createElement('p');
                logEntry.textContent = `[${timestamp}] ${message}`;
                if (type === 'error') {
                    logEntry.classList.add('text-red-600');
                } else if (type === 'success') {
                    logEntry.classList.add('text-green-600');
                } else {
                    logEntry.classList.add('text-gray-800');
                }
                simulationLog.prepend(logEntry); // Add to top
                if (simulationLog.children.length > 10) { // Keep log concise
                    simulationLog.removeChild(simulationLog.lastChild);
                }
            }

            function generateRandomBP() {
                const systolic = Math.floor(Math.random() * (140 - 100 + 1)) + 100;
                const diastolic = Math.floor(Math.random() * (90 - 60 + 1)) + 60;
                return `${systolic}/${diastolic}`;
            }

            function resetSimulation() {
                currentPatient = null;
                currentBpReading = null;
                bpReadingElement.textContent = generateRandomBP();
                simulationLog.innerHTML = '<p class="text-gray-500">ç­‰å¾…æ“ä½œ...</p>';
                logSimulation('æ¨¡æ“¬å·²é‡ç½®', 'info');
            }

            scanQrBtn.addEventListener('click', () => {
                currentPatient = { id: 'PATIENT-001', name: 'ç‹å°æ˜', bed: '101' };
                logSimulation(`æƒææˆåŠŸï¼ç—…æ‚£ï¼š${currentPatient.name} (åºŠè™Ÿ: ${currentPatient.bed})`, 'success');
                bpReadingElement.textContent = generateRandomBP(); // New reading after scan
            });

            captureDataBtn.addEventListener('click', () => {
                if (!currentPatient) {
                    logSimulation('è«‹å…ˆæƒæç—…æ‚£æ‰‹åœˆï¼', 'error');
                    return;
                }
                currentBpReading = bpReadingElement.textContent;
                logSimulation(`æ‹æ”æ•¸æ“šæˆåŠŸï¼è¡€å£“è®€æ•¸ï¼š${currentBpReading}`, 'success');
            });

            uploadNisBtn.addEventListener('click', () => {
                if (!currentPatient || !currentBpReading) {
                    logSimulation('è«‹å…ˆæƒæç—…æ‚£ä¸¦æ‹æ”æ•¸æ“šï¼', 'error');
                    return;
                }
                logSimulation(`ä¸Šå‚³æ•¸æ“šè‡³NISç³»çµ±ï¼šç—…æ‚£ ${currentPatient.id}, è¡€å£“ ${currentBpReading}`, 'success');
                currentPatient = null; // Reset for next patient
                currentBpReading = null;
                bpReadingElement.textContent = generateRandomBP(); // New reading for next simulation
            });

            resetSimBtn.addEventListener('click', resetSimulation);

            // Initial setup
            resetSimulation();
        });
    </script>
</body>
</html>
